{
  "description": "Democratic CSI plugin for Docker Swarm",
  "documentation": "https://github.com/democratic-csi/democratic-csi",
  "entrypoint": [
    "/home/csi/app/bin/democratic-csi",
    "--driver-config-file", "/etc/democratic-csi.yml",
    "--log-level", "info",
    "--csi-version", "1.0.0",
    "--csi-name", "democratic-csi",
    "--server-socket", "/run/docker/plugins/democratic-csi.sock"
  ],
  "interface": {
    "types": [
      "docker.csicontroller/1.0",
      "docker.csinode/1.0"
    ],
    "socket": "democratic-csi.sock"
  },
  "network": {
    "type": "host"
  },
  "linux": {
    "capabilities": [
      "CAP_SYS_ADMIN",
      "CAP_AUDIT_CONTROL", "CAP_AUDIT_READ", "CAP_AUDIT_WRITE",
      "CAP_BLOCK_SUSPEND", "CAP_CHOWN", "CAP_DAC_OVERRIDE",
      "CAP_DAC_READ_SEARCH", "CAP_FOWNER", "CAP_FSETID", "CAP_IPC_LOCK",
      "CAP_IPC_OWNER", "CAP_KILL", "CAP_LEASE", "CAP_LINUX_IMMUTABLE",
      "CAP_MAC_ADMIN", "CAP_MAC_OVERRIDE", "CAP_MKNOD", "CAP_NET_ADMIN",
      "CAP_NET_BIND_SERVICE", "CAP_NET_BROADCAST", "CAP_NET_RAW",
      "CAP_SETGID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_SETUID",
      "CAP_SYS_BOOT", "CAP_SYS_CHROOT", "CAP_SYS_MODULE",
      "CAP_SYS_NICE", "CAP_SYS_PACCT", "CAP_SYS_PTRACE", "CAP_SYS_RAWIO",
      "CAP_SYS_RESOURCE", "CAP_SYS_TIME", "CAP_SYS_TTY_CONFIG",
      "CAP_SYSLOG", "CAP_WAKE_ALARM"
    ]
  },
  "propagatedMount": "/data/published",
  "mounts": [
    {
      "name": "democratic-csi-config",
      "description": "Democratic CSI configuration file",
      "source": "/etc/democratic-csi.yml",
      "destination": "/etc/democratic-csi.yml",
      "type": "bind",
      "options": ["bind","ro"]
    },
    {
      "name": "host-dir",
      "description": "Host filesystem for CSI chroot",
      "source": "/",
      "destination": "/host",
      "type": "bind",
      "options": ["bind","rbind","rshared"]
    },
    {
      "name": "dev",
      "description": "Host /dev",
      "source": "/dev",
      "destination": "/dev",
      "type": "bind",
      "options": ["bind","rbind"]
    },
    {
      "name": "mount-binary",
      "description": "Host mount binary",
      "source": "/usr/bin/mount",
      "destination": "/usr/bin/mount",
      "type": "bind",
      "options": ["bind", "ro"]
    },
    {
      "name": "umount-binary",
      "description": "Host umount binary",
      "source": "/usr/bin/umount",
      "destination": "/usr/bin/umount",
      "type": "bind",
      "options": ["bind", "ro"]
    }
  ],
  "env": [
    {
      "name": "CSI_ENDPOINT",
      "value": "unix:///run/docker/plugins/democratic-csi.sock"
    },
    {
      "name": "DEMOCRATIC_CSI_LOG_LEVEL",
      "value": "silly"
    }
  ]
}